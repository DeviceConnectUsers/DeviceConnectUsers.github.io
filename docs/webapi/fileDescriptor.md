<h1>Filedescriptor API</h1>


<h2>デバイス上のファイルを開く</h2>


<p>デバイス上にあるファイルを開きます。このファイルは新規作成されます。</p>


<h3>基本情報</h3>


<p>APIパス</p>

<p>: /gotapi/fileDescriptor/open</p>


<p>HTTPメソッド</p>

<p>: GET</p>


<h3>リクエスト</h3>


<h4>HTTPヘッダー</h4>


|ヘッダーの種類|内容|
|----------------|----------------|
|Content-Type|application/json|

<h4>パラメータ</h4>


|キー|必須|型|場所|説明|
|-----|-----|-----|-----|-----|
|serviceId|✓|文字列|クエリー|サービスIDを指定します|
|accessToken|✓|文字列|クエリー|取得したアクセストークン|
|path|✓|文字列|クエリー|ファイルのパス|
|flag|✓|文字列|クエリー|ファイルの読み書きフラグ。rで読み取りのみ、rwで読み書き。|

<h3>レスポンス</h3>


<h4>HTTPレスポンス</h4>


|HTTPステータスコード|内容|
|-----|-----|
|200|HTTP経由でアクセスするファイル情報|

<p>エラーについては <a href="./error.md">エラーについて</a> を参照してください。</p>



<h4>レスポンス内容</h4>


|キー|型|
|-----|-----|
|result|数値|
|product|文字列|
|version|文字列|

<h2>指定したパスに書き込む</h2>


<p>指定したファイルの内容をそのまま書き込みます。書き込みを開始する場所が指定できます。</p>


<h3>基本情報</h3>


<p>APIパス</p>

<p>: /gotapi/fileDescriptor/write</p>


<p>HTTPメソッド</p>

<p>: PUT</p>


<h3>リクエスト</h3>


<h4>HTTPヘッダー</h4>


|ヘッダーの種類|内容|
|----------------|----------------|
|Content-Type|application/json|

<h4>パラメータ</h4>


|キー|必須|型|場所|説明|
|-----|-----|-----|-----|-----|
|media|✓|File|formData|書き込む内容。画像、動画、テキストファイルなど|
|position|✓|文字列|formData|ファイルの書き込み位置を指定|
|path|✓|文字列|formData|ファイルのパス|
|flag|✓|文字列|formData|ファイルの読み書きフラグ。rで読み取りのみ、rwで読み書き。|
|serviceId|✓|文字列|クエリー|サービスIDを指定します|
|accessToken|✓|文字列|クエリー|取得したアクセストークン|

<h3>レスポンス</h3>


<h4>HTTPレスポンス</h4>


|HTTPステータスコード|内容|
|-----|-----|
|200|HTTP経由でアクセスするファイル情報|

<p>エラーについては <a href="./error.md">エラーについて</a> を参照してください。</p>



<h4>レスポンス内容</h4>


|キー|型|
|-----|-----|
|result|数値|
|product|文字列|
|version|文字列|

<h2>ファイルを読み込む</h2>


<p>指定したパスのファイルを読み込みます。読み込み開始する場所、長さを指定できます。</p>


<h3>基本情報</h3>


<p>APIパス</p>

<p>: /gotapi/fileDescriptor/read</p>


<p>HTTPメソッド</p>

<p>: GET</p>


<h3>リクエスト</h3>


<h4>HTTPヘッダー</h4>


|ヘッダーの種類|内容|
|----------------|----------------|
|Content-Type|application/json|

<h4>パラメータ</h4>


|キー|必須|型|場所|説明|
|-----|-----|-----|-----|-----|
|serviceId|✓|文字列|クエリー|サービスIDを指定します|
|accessToken|✓|文字列|クエリー|取得したアクセストークン|
|path|✓|文字列|クエリー|ファイルのパス|
|position|✓|文字列|クエリー|ファイルの書き込み位置を指定|
|length|✓|文字列|クエリー|ファイルを読み込む長さ|

<h3>レスポンス</h3>


<h4>HTTPレスポンス</h4>


|HTTPステータスコード|内容|
|-----|-----|
|200|HTTP経由でアクセスするファイル情報|

<p>エラーについては <a href="./error.md">エラーについて</a> を参照してください。</p>



<h4>レスポンス内容</h4>


|キー|型|
|-----|-----|
|result|数値|
|fileData|文字列|
|product|文字列|
|size|数値|
|version|文字列|

<h2>ファイルのポインタを閉じる</h2>


<p>ファイルを閉じます。</p>


<h3>基本情報</h3>


<p>APIパス</p>

<p>: /gotapi/fileDescriptor/close</p>


<p>HTTPメソッド</p>

<p>: PUT</p>


<h3>リクエスト</h3>


<h4>HTTPヘッダー</h4>


|ヘッダーの種類|内容|
|----------------|----------------|
|Content-Type|application/json|

<h4>パラメータ</h4>


|キー|必須|型|場所|説明|
|-----|-----|-----|-----|-----|
|serviceId|✓|文字列|クエリー|サービスIDを指定します|
|accessToken|✓|文字列|クエリー|取得したアクセストークン|
|path|✓|文字列|クエリー|ファイルのパス|

<h3>レスポンス</h3>


<h4>HTTPレスポンス</h4>


|HTTPステータスコード|内容|
|-----|-----|
|200|HTTP経由でアクセスするファイル情報|

<p>エラーについては <a href="./error.md">エラーについて</a> を参照してください。</p>



<h4>レスポンス内容</h4>


|キー|型|
|-----|-----|
|result|数値|
|product|文字列|
|version|文字列|

<h2>ファイルの変更を監視する</h2>


<p>ファイルが変更されるとWebSocket経由でイベントを受け取れるようになります。</p>


<h3>基本情報</h3>


<p>APIパス</p>

<p>: /gotapi/fileDescriptor/onwatchfile</p>


<p>HTTPメソッド</p>

<p>: PUT</p>


<h3>リクエスト</h3>


<h4>HTTPヘッダー</h4>


|ヘッダーの種類|内容|
|----------------|----------------|
|Content-Type|application/json|

<h4>パラメータ</h4>


|キー|必須|型|場所|説明|
|-----|-----|-----|-----|-----|
|serviceId|✓|文字列|クエリー|サービスIDを指定します|
|accessToken|✓|文字列|クエリー|取得したアクセストークン|
|sessionKey|✓|文字列|クエリー|WebSocketで受け取るための一意のキー|

<h3>レスポンス</h3>


<h4>HTTPレスポンス</h4>


|HTTPステータスコード|内容|
|-----|-----|
|200|HTTP経由でアクセスするファイル情報|

<p>エラーについては <a href="./error.md">エラーについて</a> を参照してください。</p>



<h4>レスポンス内容</h4>


|キー|型|
|-----|-----|
|result|数値|
|product|文字列|
|version|文字列|
